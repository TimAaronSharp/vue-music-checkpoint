webpackJsonp([0],[,,function(t,e,s){"use strict";var n=s(1),a=s(22),i=s(13),o=s.n(i),r=!window.location.host.includes("localhost"),u=r?"//tas-vue-music.herokuapp.com":"//localhost:5000";n.a.use(a.a);var c=new a.a.Store({state:{activePlaylist:{},myPlaylists:[],myTunes:[],results:[]},mutations:{setResults:function(t,e){t.results=e},setMyPlaylists:function(t,e){t.myPlaylists=e,console.log(t.myPlaylists)},setMyTunes:function(t,e){e.sort(function(t,e){return t.order<e.order?-1:t.order>e.order?1:0}),console.log(e),t.myTunes=e}},actions:{getMusicByArtist:function(t,e){var s=t.commit,n=(t.dispatch,"https://itunes.apple.com/search?term="+e);encodeURIComponent(n);o.a.get(n).then(function(t){t=JSON.parse(t),s("setResults",t.results)})},getMyPlaylists:function(t){var e=t.commit,s=(t.dispatch,u+"/api/playlists");o.a.get(s).then(function(t){e("setMyPlaylists",t)}).catch(function(t){res.status(400).send(t)})},getMyTunes:function(t){var e=t.commit,s=(t.dispatch,u+"/api/songs");o.a.get(s).then(function(t){e("setMyTunes",t)}).catch(function(t){res.status(400).send(t)})},addToMyTunes:function(t,e){function s(t){this.title=t.result.trackName,this.albumArt=t.result.artworkUrl100,this.artist=t.result.artistName,this.coll=t.result.collectionName,this.price=t.result.trackPrice,this.preview=t.result.previewUrl,this.playlistId="5a17760d51c68d1d00dcc3b3",this.order=t.myTunes.length}var n=(t.commit,t.dispatch),a=new s(e);o.a.post(u+"/api/songs",a).then(function(t){n("getMyTunes")}).catch(function(t){res.status(400).send(t)})},removeTrack:function(t,e){for(var s=(t.commit,t.dispatch),n=0,a=0;a<e.myTunes.length;a++){if(e.myTunes[a]._id==e.tune._id){n=a+1;break}}for(var i=n;i<e.myTunes.length;i++){var r=e.myTunes[i];o.a.ajax({method:"PUT",url:u+"/api/songs/"+r._id,data:{order:i-1}})}o.a.ajax({method:"DELETE",url:u+"/api/songs/"+e.tune._id}).then(function(t){s("getMyTunes")}).catch(function(t){res.status(400).send(t)})},promoteTrack:function(t,e){for(var s=(t.commit,t.dispatch),n=0;n<e.myTunes.length;n++)if(e.myTunes[n]._id==e.tune._id){if(null==e.myTunes[n-1]){console.log("too high brah!");break}o.a.ajax({method:"PUT",url:u+"/api/songs/"+e.myTunes[n]._id,data:{order:e.myTunes[n].order-1}}).then(o.a.ajax({method:"PUT",url:u+"/api/songs/"+e.myTunes[n-1]._id,data:{order:e.myTunes[n-1].order+1}})).then(function(t){s("getMyTunes")}).catch(function(t){res.status(400).send(t)});break}},demoteTrack:function(t,e){for(var s=(t.commit,t.dispatch),n=0;n<e.myTunes.length;n++)if(e.myTunes[n]._id==e.tune._id){if(null==e.myTunes[n+1]){console.log("too low brah!");break}o.a.ajax({method:"PUT",url:u+"/api/songs/"+e.myTunes[n]._id,data:{order:e.myTunes[n].order+1}}).then(o.a.ajax({method:"PUT",url:u+"/api/songs/"+e.myTunes[n+1]._id,data:{order:e.myTunes[n+1].order-1}})).then(function(t){s("getMyTunes")}).catch(function(t){res.status(400).send(t)});break}}}});e.a=c},function(t,e,s){s(10);var n=s(0)(s(4),s(18),null,null);t.exports=n.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(14),a=s.n(n);e.default={name:"app",components:{Home:a.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(15),a=s.n(n),i=s(16),o=s.n(i);e.default={name:"home",data:function(){return{}},components:{MyTunes:a.a,Itunes:o.a}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"MyTunes",data:function(){return{}},mounted:function(){this.$store.dispatch("getMyPlaylists"),this.$store.dispatch("getMyTunes")},methods:{removeFromMyTunes:function(t,e){this.$store.dispatch("removeTrack",{tune:t,myTunes:e})},promoteMyTune:function(t,e){this.$store.dispatch("promoteTrack",{tune:t,myTunes:e})},demoteMyTune:function(t,e){this.$store.dispatch("demoteTrack",{tune:t,myTunes:e})},hidePlaylist:function(){var t=document.getElementById("list");t.className.includes(" hidden")||(t.className+=" hidden")},showPlaylist:function(){var t=document.getElementById("list");t.className.includes(" hidden")&&(t.className="col-sm-12 playlist-area border bc br fixed overflow")}},computed:{playlists:function(){return this.$store.state.myPlaylists},myTunes:function(){return this.$store.state.myTunes}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Itunes",data:function(){return{search:""}},methods:{getMusicByArtist:function(){this.$store.dispatch("getMusicByArtist",this.search)},addToMyTunes:function(t,e){this.$store.dispatch("addToMyTunes",{result:t,myTunes:e})}},computed:{results:function(){return this.$store.state.results},myTunes:function(){return this.$store.state.myTunes}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(1),a=s(3),i=s.n(a),o=s(2);new n.a({el:"#app",template:"<App/>",store:o.a,components:{App:i.a}})},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,function(t,e,s){s(12);var n=s(0)(s(5),s(20),null,null);t.exports=n.exports},function(t,e,s){s(9);var n=s(0)(s(6),s(17),null,null);t.exports=n.exports},function(t,e,s){s(11);var n=s(0)(s(7),s(19),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"music row"},t._l(t.playlists,function(e){return s("div",{staticClass:"col-sm-10 playlist-area border bc br fixed overflow",attrs:{id:"list"}},[s("p",{staticClass:"p-ilb playlist-font"},[t._v(t._s(e.name))]),t._v(" "),t._l(t.myTunes,function(e,n){return s("div",{staticClass:"song-area overflow-h"},[s("div",{staticClass:"move-left"},[s("p",[t._v(t._s(n+1)+". "+t._s(e.title)+" ----- "+t._s(e.artist))])]),t._v(" "),s("audio",{attrs:{type:"audio/mpeg",controls:"",src:e.preview}}),t._v(" "),s("i",{staticClass:"fa fa-arrow-up buttons",on:{click:function(s){t.promoteMyTune(e,t.myTunes)}}}),t._v(" "),s("i",{staticClass:"fa fa-arrow-down buttons",on:{click:function(s){t.demoteMyTune(e,t.myTunes)}}}),t._v(" "),s("i",{staticClass:"fa fa-times buttons remove pull-right",on:{click:function(s){t.removeFromMyTunes(e,t.myTunes)}}})])})],2)}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("home")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"music"},[s("form",{on:{submit:function(e){e.preventDefault(),t.getMusicByArtist(e)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],attrs:{type:"text",name:"",id:"",placeholder:"Search by Artist"},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v(" "),s("button",{attrs:{type:"submit"}},[t._v("Search")])]),t._v(" "),t._l(t.results,function(e){return s("div",{staticClass:"songs"},[s("div",{staticClass:"col-sm-4 max-h m-tb-1 bc br border m-lr-1 overflow-h"},[s("div",{staticClass:"move-left m-t"},[s("p",[t._v(t._s(e.trackName)+" ----- "+t._s(e.artistName))])]),t._v(" "),s("div",{staticClass:"move-left overflow-h m-t"},[s("p",[t._v(t._s(e.collectionName))])]),t._v(" "),s("p",[t._v("$"+t._s(e.trackPrice))]),t._v(" "),s("div",{staticClass:"preview-bar-add m-t"},[s("audio",{attrs:{type:"audio/mpeg",controls:"",src:e.previewUrl}}),t._v(" "),s("i",{staticClass:"fa fa-plus buttons pull-right",on:{click:function(s){t.addToMyTunes(e,t.myTunes)}}})]),t._v(" "),s("img",{staticClass:"itunes-img",attrs:{src:e.artworkUrl100,alt:""}})])])})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("my-tunes",{staticClass:"my-tunes col-sm-4"}),t._v(" "),s("itunes",{staticClass:"itunes col-sm-8"})],1)])])},staticRenderFns:[]}}],[8]);
//# sourceMappingURL=app.89f91d2b6af79e6a4249.js.map